import{A as L}from"./AdminLayout-f20c5b94.js";import{L as B,H as V,b,o as a,c as n,g as d,w as r,G as p,e as s,D as g,E as x,i as c,B as m,I as k,f as u,K as h,Q as _}from"./app-df21bdc9.js";import{P as F}from"./Pagination-1036cda7.js";import{_ as K}from"./_plugin-vue_export-helper-c27b6911.js";import"./logo-c37a058e.js";const D={components:{AdminLayout:L,Link:B,Pagination:F,Head:V},props:["users"],data(){return{filter:{fio:route().params.fio?route().params.fio:null,iin:route().params.iin?route().params.iin:null,mail:route().params.mail?route().params.mail:null,phone:route().params.phone?route().params.phone:null},loading:0}},methods:{deleteData(l){Swal.fire({title:"Жоюға сенімдісіз бе?",text:"Қайтып қалпына келмеуі мүмкін!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Иә, жоямын!",cancelButtonText:"Жоқ"}).then(t=>{t.isConfirmed&&this.$inertia.delete(route("admin.users.destroy",l))})},removeFilter(l){this.filter[l]=null,this.search()},search(){this.loading=1;const l=this.clearParams(this.filter);this.$inertia.get(route("admin.users.index"),l)}},computed:{activeFilters(){const l=[];return this.filter.fio&&l.push({key:"fio",label:"ФИО",value:this.filter.fio}),this.filter.iin&&l.push({key:"iin",label:"ИИН",value:this.filter.iin}),this.filter.mail&&l.push({key:"mail",label:"Почта",value:this.filter.mail}),this.filter.phone&&l.push({key:"phone",label:"Телефон",value:this.filter.phone}),l}}},P=s("head",null,[s("title",null,"Админ панель | Қолданушылар")],-1),A={class:"row mb-2"},N=s("div",{class:"col-sm-6"},[s("h2",{class:"fw-bold text-dark mb-0"},[s("i",{class:"fas fa-users text-primary me-2"}),c(" Қолданушылар тізімі ")])],-1),T={class:"col-sm-6"},U={class:"breadcrumb float-sm-right"},j={class:"breadcrumb-item"},M=["href"],S=s("i",{class:"fas fa-dashboard"},null,-1),E=c(" Басты бет "),H=[S,E],I=s("li",{class:"breadcrumb-item active"}," Қолданушылар тізімі ",-1),G={class:"buttons d-flex align-items-center"},Q=s("i",{class:"fa fa-plus"},null,-1),q=c(" Қосу "),z=s("i",{class:"fa fa-trash"},null,-1),J=c(" Фильтрді тазалау "),O={key:0,class:"spinner-border text-primary mx-3",role:"status"},R=s("span",{class:"sr-only"},"Loading...",-1),W=[R],X={key:0,class:"mt-2 d-flex flex-wrap align-items-center"},Y=s("span",{class:"me-2"},"Қолданылған фильтрлер:",-1),Z=["onClick"],$={class:"container-fluid"},ss={class:"row"},es={class:"col-lg-3"},ts={class:"card",style:{}},ls=s("div",{class:"card-header bg-secondary"},[s("h5",{class:"modal-title",id:"filterModalLabel"},"Фильтр")],-1),is={class:"card-body"},os={class:"mb-1"},as=s("label",{class:"form-label"},"Рөл атауы",-1),ns={class:"mb-1"},rs=s("label",{class:"form-label"},"ИИН арқылы іздеу",-1),ds={class:"mb-1"},cs=s("label",{class:"form-label"},"Почта арқылы іздеу",-1),ms={class:"mb-1"},us=s("label",{class:"form-label"},"Телефон номері арқылы іздеу",-1),hs=s("button",{type:"submit",class:"btn btn-primary","data-bs-dismiss":"modal"},"Іздеу",-1),_s={class:"col-lg-9"},fs={class:"card shadow-sm rounded-3"},bs={class:"card-body"},ps={class:"row"},vs={class:"card text-center p-3 w-100 shadow-sm"},ys=["src"],gs={class:"mb-1"},xs={class:"mb-2 text-muted"},ks={class:"btn-group btn-group-sm justify-content-center"},ws=s("i",{class:"fas fa-edit"},null,-1),Cs=["onClick"],Ls=s("i",{class:"fas fa-times"},null,-1),Bs=[Ls],Vs={class:"px-3 py-2"};function Fs(l,t,v,Ks,o,i){const f=b("Link"),w=b("Pagination"),C=b("AdminLayout");return a(),n(p,null,[P,d(C,null,{breadcrumbs:r(()=>[s("div",A,[N,s("div",T,[s("ol",U,[s("li",j,[s("a",{href:l.route("admin.index")},H,8,M)]),I])])])]),header:r(()=>[s("div",G,[d(f,{class:"btn btn-primary mr-2",href:l.route("admin.users.create")},{default:r(()=>[Q,q]),_:1},8,["href"]),d(f,{class:"btn btn-danger",href:l.route("admin.users.index")},{default:r(()=>[z,J]),_:1},8,["href"]),o.loading?(a(),n("div",O,W)):g("",!0)]),i.activeFilters.length?(a(),n("div",X,[Y,(a(!0),n(p,null,x(i.activeFilters,(e,y)=>(a(),n("span",{key:y,class:"badge bg-info text-dark me-2 d-flex align-items-center"},[c(m(e.label)+": "+m(e.value)+" ",1),s("button",{type:"button",class:"btn-close btn-close-white btn-sm ms-2",onClick:Ds=>i.removeFilter(e.key),"aria-label":"Жою"},null,8,Z)]))),128))])):g("",!0)]),default:r(()=>[s("div",$,[s("div",ss,[s("div",es,[s("div",ts,[ls,s("div",is,[s("form",{onSubmit:t[8]||(t[8]=k((...e)=>i.search&&i.search(...e),["prevent"]))},[s("div",os,[as,u(s("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>o.filter.fio=e),class:"form-control",placeholder:"Енгізу жолы",onKeyup:t[1]||(t[1]=_((...e)=>i.search&&i.search(...e),["enter"]))},null,544),[[h,o.filter.fio]])]),s("div",ns,[rs,u(s("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>o.filter.iin=e),class:"form-control",placeholder:"Енгізу жолы",onKeyup:t[3]||(t[3]=_((...e)=>i.search&&i.search(...e),["enter"]))},null,544),[[h,o.filter.iin]])]),s("div",ds,[cs,u(s("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>o.filter.mail=e),class:"form-control",placeholder:"Енгізу жолы",onKeyup:t[5]||(t[5]=_((...e)=>i.search&&i.search(...e),["enter"]))},null,544),[[h,o.filter.mail]])]),s("div",ms,[us,u(s("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>o.filter.phone=e),class:"form-control",placeholder:"Енгізу жолы",onKeyup:t[7]||(t[7]=_((...e)=>i.search&&i.search(...e),["enter"]))},null,544),[[h,o.filter.phone]])]),hs],32)])])]),s("div",_s,[s("div",fs,[s("div",bs,[s("div",ps,[(a(!0),n(p,null,x(v.users.data,e=>(a(),n("div",{class:"col-12 col-sm-6 col-md-6 col-lg-4 mb-4",key:"user"+e.id},[s("div",vs,[s("img",{src:l.route("index")+"/storage/"+e.avatar,alt:"Аватар",class:"rounded-circle mx-auto mb-3 img-thumbnail",style:{width:"250px",height:"250px","object-fit":"cover"}},null,8,ys),s("div",null,[s("h5",gs,m(e.fio),1),s("p",xs,m(e.job_title),1),s("div",ks,[d(f,{href:l.route("admin.users.edit",e),class:"btn btn-primary",title:"Өзгерту"},{default:r(()=>[ws]),_:2},1032,["href"]),s("button",{onClick:k(y=>i.deleteData(e.id),["prevent"]),class:"btn btn-danger",title:"Жою"},Bs,8,Cs)])])])]))),128))])]),s("div",Vs,[d(w,{links:v.users.links},null,8,["links"])])])])])])]),_:1})],64)}const js=K(D,[["render",Fs]]);export{js as default};
