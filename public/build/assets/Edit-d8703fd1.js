import{A as V}from"./AdminLayout-f20c5b94.js";import{L as k,H as S,b as _,o as d,c,g as n,w as g,G as m,e,I as h,f as r,K as u,J as j,E as y,B as p,D as b,i as l}from"./app-df21bdc9.js";import{P as w}from"./Pagination-1036cda7.js";import{V as C}from"./ValidationError-8bcdd75a.js";import{s as L}from"./searchUser-56cbf20e.js";import{_ as A}from"./_plugin-vue_export-helper-c27b6911.js";import"./logo-c37a058e.js";const E={components:{AdminLayout:V,Link:k,Pagination:w,ValidationError:C,searchUser:L,Head:S},data(){return{file:{file:""}}},props:["project","audans","projectTypes"],methods:{submit(){this.file.file&&(this.project.file=this.file.file),this.project._method="put",this.$inertia.post(route("admin.projects.update",this.project.id),this.project,{onError:()=>console.log("An error has occurred"),onSuccess:()=>{console.log("The new contact has been saved"),this.file.file=""}})},handleUserSelection(i){console.log("Выбран пользователь:",i),this.project.curator_id=i.id,this.project.phone=i.phone,this.project.curator=i.fio},handlefileUpload(){this.file.file=this.$refs.file.files[0],this.file.file?this.$refs.file.value="":(this.project.file="",this.file.file="")}}},B=e("head",null,[e("title",null,"Админ панель | Жоба қосу")],-1),M={class:"row mb-2"},N=e("div",{class:"col-sm-6"},[e("h1",{class:"m-0"},"Жоба қосу")],-1),T={class:"col-sm-6"},D={class:"breadcrumb float-sm-right"},H={class:"breadcrumb-item"},P=["href"],F=e("i",{class:"fas fa-dashboard"},null,-1),G=l(" Басты бет "),I=[F,G],J={class:"breadcrumb-item"},K=["href"],q=e("i",{class:"fas fa-dashboard"},null,-1),z=l(" Жоба тізімі "),O=[q,z],Q=e("li",{class:"breadcrumb-item active"}," Жоба қосу ",-1),R={class:"container-fluid"},W={class:"card card-primary"},X={class:"card-body"},Y={class:"form-group"},Z=e("label",{for:""},[l("Жоба аты "),e("span",{class:"text-danger"},"*")],-1),$={class:"form-group"},ee=e("label",{for:""},[l("Жоба түрі "),e("span",{class:"text-danger"},"*")],-1),te=e("option",{hidden:"",value:null}," Жоба түрін таңдаңыз ",-1),oe=["value"],se={class:"form-group"},le=e("label",{for:""},[l("Сипаттама "),e("span",{class:"text-danger"},"*")],-1),ne={class:"form-group"},ie=e("label",{for:""},[l("Елі "),e("span",{class:"text-danger"},"*")],-1),ae={class:"form-group"},re=e("label",{for:""},[l("Аудан "),e("span",{class:"text-danger"},"*")],-1),de=e("option",{hidden:"",value:null}," Ауданды таңдаңыз ",-1),ce=["value"],ue={class:"form-group"},fe=e("label",{for:""},[l("Инвестиция суммасы (₸) "),e("span",{class:"text-danger"},"*")],-1),me={class:"form-group"},pe=e("label",{for:""},[l("Жұмыскерлер саны "),e("span",{class:"text-danger"},"*")],-1),_e=e("div",{class:"h4"},"Куратор",-1),he=e("button",{type:"button",class:"btn btn-primary mb-4","data-bs-toggle":"modal","data-bs-target":"#filterModal"},[e("i",{class:"fa fa-plus"}),l(" Куратор таңдау ")],-1),be={class:"form-group"},ve=e("label",{for:""},[l("Куратор аты-жөні "),e("span",{class:"text-danger"},"*")],-1),ge={class:"form-group"},je=e("label",{for:""},[l("Куратор байланыс номері "),e("span",{class:"text-danger"},"*")],-1),ye={class:"mb-4"},xe=e("label",{for:"file",class:"form-label"},[l("Документ "),e("span",{class:"text-danger"},"*")],-1),Ue={class:"border rounded p-3 bg-light d-flex flex-column gap-2"},Ve={key:0,class:"text-primary d-flex align-items-center gap-2"},ke=e("i",{class:"fas fa-file-alt fs-5"},null,-1),Se={key:1,class:"text-success d-flex align-items-center gap-2"},we=e("i",{class:"fas fa-file-alt fs-5"},null,-1),Ce={class:"input-group"},Le={class:"card-footer"},Ae=e("button",{type:"submit",class:"btn btn-primary mr-1"}," Сақтау ",-1);function Ee(i,o,s,Be,v,f){const x=_("searchUser"),a=_("validation-error"),U=_("AdminLayout");return d(),c(m,null,[B,n(U,null,{breadcrumbs:g(()=>[e("div",M,[N,e("div",T,[e("ol",D,[e("li",H,[e("a",{href:i.route("admin.index")},I,8,P)]),e("li",J,[e("a",{href:i.route("admin.projects.index")},O,8,K)]),Q])])])]),default:g(()=>[e("div",R,[e("div",W,[n(x,{onSelectUser:f.handleUserSelection},null,8,["onSelectUser"]),e("form",{method:"post",onSubmit:o[12]||(o[12]=h((...t)=>f.submit&&f.submit(...t),["prevent"]))},[e("div",X,[e("div",Y,[Z,r(e("input",{type:"text",class:"form-control","onUpdate:modelValue":o[0]||(o[0]=t=>s.project.name=t),name:"name",placeholder:"Жоба атын енгізініз"},null,512),[[u,s.project.name]]),n(a,{field:"name"})]),e("div",$,[ee,r(e("select",{class:"form-control","onUpdate:modelValue":o[1]||(o[1]=t=>s.project.project_type=t),placeholder:"Жоба түрін таңдаңыз"},[te,(d(!0),c(m,null,y(s.projectTypes,t=>(d(),c("option",{value:t.id},p(t.name),9,oe))),256))],512),[[j,s.project.project_type]]),n(a,{field:"password"})]),e("div",se,[le,r(e("input",{type:"text",class:"form-control","onUpdate:modelValue":o[2]||(o[2]=t=>s.project.description=t),name:"description",placeholder:"Сипаттама"},null,512),[[u,s.project.description]]),n(a,{field:"description"})]),e("div",ne,[ie,r(e("input",{type:"text",class:"form-control","onUpdate:modelValue":o[3]||(o[3]=t=>s.project.country=t),name:"country",placeholder:"Елі"},null,512),[[u,s.project.country]]),n(a,{field:"country"})]),e("div",ae,[re,r(e("select",{class:"form-control",onChange:o[4]||(o[4]=h((...t)=>i.search&&i.search(...t),["prevent"])),"onUpdate:modelValue":o[5]||(o[5]=t=>s.project.audan_id=t),placeholder:"Ауданды таңдаңыз"},[de,(d(!0),c(m,null,y(s.audans,t=>(d(),c("option",{value:t.id},p(t.name),9,ce))),256))],544),[[j,s.project.audan_id]]),n(a,{field:"audan_id"})]),e("div",ue,[fe,r(e("input",{type:"number",class:"form-control","onUpdate:modelValue":o[6]||(o[6]=t=>s.project.invest_sum=t),name:"invest_sum",placeholder:"Инвестиция суммасы"},null,512),[[u,s.project.invest_sum]]),n(a,{field:"invest_sum"})]),e("div",me,[pe,r(e("input",{type:"number",class:"form-control","onUpdate:modelValue":o[7]||(o[7]=t=>s.project.people_count=t),name:"people_count",placeholder:"Инвестиция суммасы"},null,512),[[u,s.project.people_count]]),n(a,{field:"people_count"})]),_e,he,s.project.curator_id?(d(),c(m,{key:0},[e("div",be,[ve,r(e("input",{type:"text",class:"form-control border-success","onUpdate:modelValue":o[8]||(o[8]=t=>s.project.curator=t),name:"curator",placeholder:"Куратор аты-жөні",disabled:""},null,512),[[u,s.project.curator]]),n(a,{field:"curator"})]),e("div",ge,[je,r(e("input",{type:"text",class:"form-control border-success","onUpdate:modelValue":o[9]||(o[9]=t=>s.project.phone=t),name:"phone",placeholder:"Байланыс номері",disabled:""},null,512),[[u,s.project.phone]]),n(a,{field:"phone"})])],64)):b("",!0),e("div",ye,[xe,e("div",Ue,[s.project.file?(d(),c("div",Ve,[ke,e("span",null,p(s.project.file),1)])):b("",!0),v.file.file?(d(),c("div",Se,[we,e("span",null,p(v.file.file.name),1)])):b("",!0),e("div",Ce,[e("input",{type:"file",class:"form-control",id:"file",name:"file",onChange:o[10]||(o[10]=t=>f.handlefileUpload()),ref:"file"},null,544)]),n(a,{field:"file"})])])]),e("div",Le,[Ae,e("button",{type:"button",class:"btn btn-danger",onClick:o[11]||(o[11]=h(t=>i.back(),["prevent"]))}," Артқа ")])],32)])])]),_:1})],64)}const Ge=A(E,[["render",Ee]]);export{Ge as default};
