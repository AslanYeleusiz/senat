import{A as C}from"./AdminLayout-1d3700ae.js";import{_ as y}from"./_plugin-vue_export-helper-c27b6911.js";import{o as l,c as r,e as s,E as f,A as n,L,H as P,b,g as c,w as i,F as g,C as p,D as v,i as d,G as x,f as F,J as M}from"./app-b9f46dc5.js";import"./logo-c37a058e.js";const N={props:{successful:{type:Number,required:!0},warningful:{type:Number,required:!0},unsuccessful:{type:Number,required:!0}},computed:{maxValue(){return Math.max(this.successful,this.warningful,this.unsuccessful)},successfulProgress(){return this.maxValue?this.successful/this.maxValue*100:1},warningfulProgress(){return this.maxValue?this.warningful/this.maxValue*100:1},unsuccessfulProgress(){return this.maxValue?this.unsuccessful/this.maxValue*100:1}}},A={class:"progress"},D=["aria-valuenow","aria-valuemax"],S={class:"progress"},T=["aria-valuenow","aria-valuemax"],q={class:"progress"},j=["aria-valuenow","aria-valuemax"];function E(a,o,u,w,_,t){return l(),r("div",null,[s("div",A,[s("div",{class:"progress-bar bg-success",role:"progressbar",style:f({width:t.successfulProgress+"%"}),"aria-valuenow":t.successfulProgress,"aria-valuemin":"0","aria-valuemax":t.maxValue},n(u.successful),13,D)]),s("div",S,[s("div",{class:"progress-bar bg-warning",role:"progressbar",style:f({width:t.warningfulProgress+"%"}),"aria-valuenow":t.warningfulProgress,"aria-valuemin":"0","aria-valuemax":t.maxValue},n(u.warningful),13,T)]),s("div",q,[s("div",{class:"progress-bar bg-danger",role:"progressbar",style:f({width:t.unsuccessfulProgress+"%"}),"aria-valuenow":t.unsuccessfulProgress,"aria-valuemin":"0","aria-valuemax":t.maxValue},n(u.unsuccessful),13,j)])])}const H=y(N,[["render",E],["__scopeId","data-v-f126f5da"]]),I={components:{AdminLayout:C,progressBar:H,Link:L,Head:P},props:["audans"],data(){return{filter:{name:route().params.name?route().params.name:null},loading:0}},methods:{deleteData(a){Swal.fire({title:"Жоюға сенімдісіз бе?",text:"Қайтып қалпына келмеуі мүмкін!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Иә, жоямын!",cancelButtonText:"Жоқ"}).then(o=>{o.isConfirmed&&this.$inertia.delete(route("admin.audans.destroy",a))})},removeFilter(a){this.filter[a]=null,this.search()},search(){this.loading=1;const a=this.clearParams(this.filter);this.$inertia.get(route("admin.audans.index"),a)}},computed:{activeFilters(){const a=[];return this.filter.name&&a.push({key:"name",value:this.filter.name}),a}}},z=s("head",null,[s("title",null,"Админ панель | Аудандар")],-1),G={class:"row mb-2"},J=s("div",{class:"col-sm-6"},[s("h2",{class:"fw-bold text-dark mb-0"},[s("i",{class:"fas fa-map-marker-alt text-primary me-2"}),d(" Аудандар тізімі ")])],-1),U={class:"col-sm-6"},K={class:"breadcrumb float-sm-right"},O={class:"breadcrumb-item"},Q=["href"],R=s("i",{class:"fas fa-dashboard"},null,-1),W=d(" Басты бет "),X=[R,W],Y=s("li",{class:"breadcrumb-item active"}," Аудандар тізімі ",-1),Z={class:"buttons d-flex align-items-center"},$=s("i",{class:"fa fa-plus"},null,-1),ss=d(" Қосу "),es=s("button",{type:"button",class:"btn btn-secondary mr-2","data-bs-toggle":"modal","data-bs-target":"#filterModal"},[s("i",{class:"fa fa-filter"}),d(" Фильтр ")],-1),ts=s("i",{class:"fa fa-trash"},null,-1),as=d(" Фильтрді тазалау "),ls={key:0,class:"spinner-border text-primary mx-3",role:"status"},rs=s("span",{class:"sr-only"},"Loading...",-1),ns=[rs],os={key:0,class:"mt-2 d-flex flex-wrap align-items-center"},is=s("span",{class:"me-2"},"Қолданылған фильтрлер:",-1),cs=["onClick"],ds={class:"modal fade",id:"filterModal",tabindex:"-1","aria-labelledby":"filterModalLabel","aria-hidden":"true"},us={class:"modal-dialog"},_s={class:"modal-content"},ms=s("div",{class:"modal-header bg-secondary"},[s("h5",{class:"modal-title",id:"filterModalLabel"},"Фильтр"),s("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Жабу"})],-1),hs={class:"modal-body"},fs={class:"mb-3"},bs=s("label",{for:"audan",class:"form-label"},"Рөл атауы",-1),gs=s("button",{type:"submit",class:"btn btn-primary","data-bs-dismiss":"modal"},"Іздеу",-1),ps={class:"container-fluid"},vs={class:"card shadow-sm rounded-3"},xs={class:"card-body"},ys={class:"table-responsive"},ws={class:"table table-hover table-striped align-middle text-center mb-0"},ks=s("thead",{class:"table-light"},[s("tr",null,[s("th",{scope:"col"},"№"),s("th",{scope:"col"},"Аты"),s("th",{scope:"col"},"Проекттер саны"),s("th",{scope:"col"},"Этаптары"),s("th",{scope:"col"},"Әрекет")])],-1),Vs={class:"col-md-2"},Bs={class:"btn-group btn-group-sm"},Cs=s("i",{class:"fas fa-eye"},null,-1),Ls=s("i",{class:"fas fa-edit"},null,-1),Ps=["onClick"],Fs=s("i",{class:"fas fa-times"},null,-1),Ms=[Fs];function Ns(a,o,u,w,_,t){const m=b("Link"),k=b("progressBar"),V=b("AdminLayout");return l(),r(g,null,[z,c(V,null,{breadcrumbs:i(()=>[s("div",G,[J,s("div",U,[s("ol",K,[s("li",O,[s("a",{href:a.route("admin.index")},X,8,Q)]),Y])])])]),header:i(()=>[s("div",Z,[c(m,{class:"btn btn-primary mr-2",href:a.route("admin.audans.create")},{default:i(()=>[$,ss]),_:1},8,["href"]),es,c(m,{class:"btn btn-danger",href:a.route("admin.audans.index")},{default:i(()=>[ts,as]),_:1},8,["href"]),_.loading?(l(),r("div",ls,ns)):p("",!0)]),t.activeFilters.length?(l(),r("div",os,[is,(l(!0),r(g,null,v(t.activeFilters,(e,h)=>(l(),r("span",{key:h,class:"badge bg-info text-dark me-2 d-flex align-items-center"},[d(n(e.label)+": "+n(e.value)+" ",1),s("button",{type:"button",class:"btn-close btn-close-white btn-sm ms-2",onClick:B=>t.removeFilter(e.key),"aria-label":"Жою"},null,8,cs)]))),128))])):p("",!0),s("div",ds,[s("div",us,[s("div",_s,[ms,s("div",hs,[s("form",{onSubmit:o[1]||(o[1]=x((...e)=>t.search&&t.search(...e),["prevent"]))},[s("div",fs,[bs,F(s("input",{type:"text",class:"form-control",id:"audan",placeholder:"Енгізу жолы","onUpdate:modelValue":o[0]||(o[0]=e=>_.filter.name=e)},null,512),[[M,_.filter.name]])]),gs],32)])])])])]),default:i(()=>[s("div",ps,[s("div",vs,[s("div",xs,[s("div",ys,[s("table",ws,[ks,s("tbody",null,[(l(!0),r(g,null,v(u.audans.data,(e,h)=>(l(),r("tr",{key:"audan"+e.id},[s("td",null,n(e.from?e.from+h:h+1),1),s("td",null,n(e.name),1),s("td",null,n(e.projects_count),1),s("td",null,[c(k,{successful:e.successful,warningful:e.warningful,unsuccessful:e.unsuccessful},null,8,["successful","warningful","unsuccessful"])]),s("td",Vs,[s("div",Bs,[c(m,{href:`${a.route("admin.projects.index")}?audan_id=${e.id}`,class:"btn btn-warning",title:"Өзгерту"},{default:i(()=>[Cs]),_:2},1032,["href"]),c(m,{href:a.route("admin.audans.edit",e),class:"btn btn-primary",title:"Өзгерту"},{default:i(()=>[Ls]),_:2},1032,["href"]),s("button",{onClick:x(B=>t.deleteData(e.id),["prevent"]),class:"btn btn-danger",title:"Жою"},Ms,8,Ps)])])]))),128))])])])])])])]),_:1})],64)}const qs=y(I,[["render",Ns]]);export{qs as default};
