import{A as x}from"./AdminLayout-1d3700ae.js";import{L as k,H as w,b,o as n,c as i,g as m,w as d,F as u,e as t,D as f,i as r,A as o,C,G as p,f as L,J as B,K as F}from"./app-b9f46dc5.js";import{_ as M}from"./_plugin-vue_export-helper-c27b6911.js";import"./logo-c37a058e.js";const T={components:{AdminLayout:x,Link:k,Head:w},props:["applications"],data(){return{filter:{name:route().params.name?route().params.name:null},loading:0}},methods:{deleteData(s){Swal.fire({title:"Жоюға сенімдісіз бе?",text:"Қайтып қалпына келмеуі мүмкін!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Иә, жоямын!",cancelButtonText:"Жоқ"}).then(l=>{l.isConfirmed&&this.$inertia.delete(route("admin.applications.destroy",s))})},removeFilter(s){this.filter[s]=null,this.search()},getStatusText(s){return s==0?"Қаралмады":s==1?"Қабылданбады":s==2?"Қабылданды":"Анықталмаған"},search(){this.loading=1;const s=this.clearParams(this.filter);this.$inertia.get(route("admin.applications.index"),s)}},computed:{activeFilters(){const s=[];return this.filter.name&&s.push({key:"name",value:this.filter.name}),s}}},A=t("head",null,[t("title",null,"Админ панель | Сұраныстар")],-1),D={class:"row mb-2"},S=t("div",{class:"col-sm-6"},[t("h2",{class:"fw-bold text-dark mb-0"},[t("i",{class:"fas fa-user-shield text-primary me-2"}),r(" Сұраныстар тізімі ")])],-1),V={class:"col-sm-6"},N={class:"breadcrumb float-sm-right"},H={class:"breadcrumb-item"},j=["href"],z=t("i",{class:"fas fa-dashboard"},null,-1),E=r(" Басты бет "),G=[z,E],I=t("li",{class:"breadcrumb-item active"}," Сұраныстар тізімі ",-1),J={class:"buttons d-flex align-items-center"},K=t("button",{type:"button",class:"btn btn-secondary mr-2","data-bs-toggle":"modal","data-bs-target":"#filterModal"},[t("i",{class:"fa fa-filter"}),r(" Фильтр ")],-1),P=t("i",{class:"fa fa-trash"},null,-1),U=r(" Фильтрді тазалау "),q={key:0,class:"mt-2 d-flex flex-wrap align-items-center"},O=t("span",{class:"me-2"},"Қолданылған фильтрлер:",-1),Q=["onClick"],R={class:"modal fade",id:"filterModal",tabindex:"-1","aria-labelledby":"filterModalLabel","aria-hidden":"true"},W={class:"modal-dialog"},X={class:"modal-content"},Y=t("div",{class:"modal-header bg-secondary"},[t("h5",{class:"modal-title",id:"filterModalLabel"},"Фильтр"),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Жабу"})],-1),Z={class:"modal-body"},$={class:"mb-3"},tt=t("label",{for:"application",class:"form-label"},"Рөл атауы",-1),et=t("button",{type:"submit",class:"btn btn-primary","data-bs-dismiss":"modal"},"Іздеу",-1),st={class:"container-fluid"},at={class:"card shadow-sm rounded-3"},ot={class:"card-body"},lt={class:"table-responsive"},nt={class:"table table-hover table-striped align-middle text-center mb-0"},it=t("thead",{class:"table-light"},[t("tr",null,[t("th",{scope:"col"},"№"),t("th",{scope:"col"},"Кездесу мақсаты"),t("th",{scope:"col"},"Проект"),t("th",{scope:"col"},"Кімге"),t("th",{scope:"col"},"Статус"),t("th",{scope:"col"},"Әрекет")])],-1),dt={class:"btn-group btn-group-sm"},rt=t("i",{class:"fas fa-comment"},null,-1),ct=["onClick"],mt=t("i",{class:"fas fa-times"},null,-1),ut=[mt];function _t(s,l,g,ht,_,a){const h=b("Link"),v=b("AdminLayout");return n(),i(u,null,[A,m(v,null,{breadcrumbs:d(()=>[t("div",D,[S,t("div",V,[t("ol",N,[t("li",H,[t("a",{href:s.route("admin.index")},G,8,j)]),I])])])]),header:d(()=>[t("div",J,[K,m(h,{class:"btn btn-danger",href:s.route("admin.applications.index")},{default:d(()=>[P,U]),_:1},8,["href"])]),a.activeFilters.length?(n(),i("div",q,[O,(n(!0),i(u,null,f(a.activeFilters,(e,c)=>(n(),i("span",{key:c,class:"badge bg-info text-dark me-2 d-flex align-items-center"},[r(o(e.label)+": "+o(e.value)+" ",1),t("button",{type:"button",class:"btn-close btn-close-white btn-sm ms-2",onClick:y=>a.removeFilter(e.key),"aria-label":"Жою"},null,8,Q)]))),128))])):C("",!0),t("div",R,[t("div",W,[t("div",X,[Y,t("div",Z,[t("form",{onSubmit:l[1]||(l[1]=p((...e)=>a.search&&a.search(...e),["prevent"]))},[t("div",$,[tt,L(t("input",{type:"text",class:"form-control",id:"application",placeholder:"Енгізу жолы","onUpdate:modelValue":l[0]||(l[0]=e=>_.filter.name=e)},null,512),[[B,_.filter.name]])]),et],32)])])])])]),default:d(()=>[t("div",st,[t("div",at,[t("div",ot,[t("div",lt,[t("table",nt,[it,t("tbody",null,[(n(!0),i(u,null,f(g.applications.data,(e,c)=>(n(),i("tr",{key:"application"+e.id},[t("td",null,o(e.from?e.from+c:c+1),1),t("td",null,o(e.name),1),t("td",null,o(e.project.name),1),t("td",null,o(e.send_user.fio),1),t("td",null,[t("span",{class:F(["badge badge-success",{"badge-warning":e.status==0,"badge-danger":e.status==1,"badge-success":e.status==2}])},o(a.getStatusText(e.status)),3)]),t("td",null,[t("div",dt,[m(h,{href:s.route("admin.applications.edit",e),class:"btn btn-outline-primary",title:"Көру"},{default:d(()=>[rt]),_:2},1032,["href"]),t("button",{onClick:p(y=>a.deleteData(e.id),["prevent"]),class:"btn btn-outline-danger",title:"Жою"},ut,8,ct)])])]))),128))])])])])])])]),_:1})],64)}const vt=M(T,[["render",_t]]);export{vt as default};
