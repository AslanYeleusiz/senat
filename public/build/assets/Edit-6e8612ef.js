import{A as k}from"./AdminLayout-1d3700ae.js";import{L as V,H as A,b as v,N as C,o as n,c as r,g as a,w as y,F as g,e,G as p,f as c,J as _,I as x,D as w,A as f,C as m,O as L,i as u}from"./app-b9f46dc5.js";import{P as D}from"./Pagination-e77d07ce.js";import{V as R}from"./ValidationError-de78d7d1.js";import{_ as F}from"./_plugin-vue_export-helper-c27b6911.js";import"./logo-c37a058e.js";const j={components:{AdminLayout:k,Link:V,Pagination:D,ValidationError:R,Head:A},props:["user","roles","audans"],data(){return{autobiography:{file:"",filename:""},certificate:{file:"",filename:""},document:{file:"",filename:""},image:{file:"",preview:""}}},methods:{submit(){this.autobiography.file&&(this.user.autobiography=this.autobiography.file),this.certificate.file&&(this.user.certificate=this.certificate.file),this.document.file&&(this.user.document=this.document.file),this.image.file&&(this.user.avatar=this.image.file),this.user._method="put",this.$inertia.post(route("admin.users.update",this.user.id),this.user,{onError:()=>console.log("An error has occurred"),onSuccess:()=>console.log("The new contact has been saved")})},handleImageUpload(){if(this.image.file=this.$refs.image.files[0],this.image.file){const o=new FileReader;o.onloadend=t=>{this.image.preview=o.result},o.readAsDataURL(this.image.file),this.$refs.image.value=""}else this.user.avatar="",this.image.file="",this.image.preview=""},handleautobiographyUpload(){if(this.autobiography.file=this.$refs.autobiography.files[0],this.autobiography.file){this.autobiography.filename=this.autobiography.file.name;const o=new FileReader;o.onloadend=t=>{this.autobiography.preview=o.result},o.readAsDataURL(this.autobiography.file),this.$refs.autobiography.value=""}else this.user.autobiography="",this.autobiography.file="",this.autobiography.filname=""},handlecertificateUpload(){if(this.certificate.file=this.$refs.certificate.files[0],this.certificate.file){this.certificate.filename=this.certificate.file.name;const o=new FileReader;o.onloadend=t=>{this.certificate.preview=o.result},o.readAsDataURL(this.certificate.file),this.$refs.certificate.value=""}else this.user.certificate="",this.certificate.file="",this.certificate.filname=""},handledocumentUpload(){if(this.document.file=this.$refs.document.files[0],this.document.file){this.document.filename=this.document.file.name;const o=new FileReader;o.onloadend=t=>{this.document.preview=o.result},o.readAsDataURL(this.document.file),this.$refs.document.value=""}else this.user.document="",this.document.file="",this.document.filname=""}}},N=e("head",null,[e("title",null,"Админ панель | Қолданушы қосу")],-1),S={class:"row mb-2"},E=e("div",{class:"col-sm-6"},[e("h1",{class:"m-0"},"Қолданушы қосу")],-1),B={class:"col-sm-6"},I={class:"breadcrumb float-sm-right"},M={class:"breadcrumb-item"},P=["href"],T=e("i",{class:"fas fa-dashboard"},null,-1),H=u(" Басты бет "),G=[T,H],J={class:"breadcrumb-item"},O=["href"],q=e("i",{class:"fas fa-dashboard"},null,-1),z=u(" Қолданушы тізімі "),K=[q,z],Q=e("li",{class:"breadcrumb-item active"}," Қолданушы қосу ",-1),W={class:"container-fluid"},X={class:"card card-primary"},Y={class:"card-body"},Z={class:"form-group"},$=e("label",{for:""},[u("Фамилия, аты-жөні "),e("span",{class:"text-danger"},"*")],-1),ee={class:"form-group"},te=e("label",{for:""},[u("Лауазым "),e("span",{class:"text-danger"},"*")],-1),se={class:"form-group"},ie=e("label",{for:""},[u("Телефон нөмірі "),e("span",{class:"text-danger"},"*")],-1),oe={class:"form-group"},ae=e("label",{for:""},"Почта",-1),le={class:"form-group"},ne=e("label",{for:""},[u("ИИН "),e("span",{class:"text-danger"},"*")],-1),re={class:"form-group"},de=e("label",{for:""},[u("Құпия сөз "),e("span",{class:"text-danger"},"*")],-1),ce={class:"form-group"},ue=e("label",{for:""},[u("Аудан "),e("span",{class:"text-danger"},"*")],-1),fe=e("option",{hidden:"",value:null}," Ауданды таңдаңыз ",-1),me=["value"],he={class:"form-group"},_e=e("label",{for:""},[u("Рөлі "),e("span",{class:"text-danger"},"*")],-1),pe=e("option",{hidden:"",value:null}," Рөлді таңдаңыз ",-1),ge=["value"],be=e("label",{class:"form-label h3 mt-5"},"Қосымша материал",-1),ve={class:"form-group"},ye=e("label",{for:"image",class:"form-label"},"Аватар",-1),xe={class:"border rounded p-3 bg-light d-flex flex-column gap-2"},we=["src"],Ue=["src"],ke={class:"input-group"},Ve={class:"form-group"},Ae=e("label",{class:"form-label"},"АВТОБИОГРАФИЯ",-1),Ce={class:"border rounded p-3 bg-light d-flex flex-column gap-2"},Le={key:0,class:"text-primary d-flex align-items-center gap-2"},De=e("i",{class:"fas fa-file-alt fs-5"},null,-1),Re={key:1,class:"text-success d-flex align-items-center gap-2"},Fe=e("i",{class:"fas fa-file-alt fs-5"},null,-1),je={class:"input-group"},Ne={class:"form-group"},Se=e("label",{class:"form-label"},"Паспорт",-1),Ee={class:"border rounded p-3 bg-light d-flex flex-column gap-2"},Be={key:0,class:"text-primary d-flex align-items-center gap-2"},Ie=e("i",{class:"fas fa-file-alt fs-5"},null,-1),Me={key:1,class:"text-success d-flex align-items-center gap-2"},Pe=e("i",{class:"fas fa-file-alt fs-5"},null,-1),Te={class:"input-group"},He={class:"form-group"},Ge=e("label",{class:"form-label"},"Қосымша документ",-1),Je={class:"border rounded p-3 bg-light d-flex flex-column gap-2"},Oe={key:0,class:"text-primary d-flex align-items-center gap-2"},qe=e("i",{class:"fas fa-file-alt fs-5"},null,-1),ze={key:1,class:"text-success d-flex align-items-center gap-2"},Ke=e("i",{class:"fas fa-file-alt fs-5"},null,-1),Qe={class:"input-group"},We={class:"card-footer"},Xe=e("button",{type:"submit",class:"btn btn-primary mr-1"}," Сақтау ",-1);function Ye(o,t,i,Ze,d,h){const l=v("validation-error"),U=v("AdminLayout"),b=C("mask");return n(),r(g,null,[N,a(U,null,{breadcrumbs:y(()=>[e("div",S,[E,e("div",B,[e("ol",I,[e("li",M,[e("a",{href:o.route("admin.index")},G,8,P)]),e("li",J,[e("a",{href:o.route("admin.users.index")},K,8,O)]),Q])])])]),default:y(()=>[e("div",W,[e("div",X,[e("form",{method:"post",onSubmit:t[15]||(t[15]=p((...s)=>h.submit&&h.submit(...s),["prevent"]))},[e("div",Y,[e("div",Z,[$,c(e("input",{type:"text",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=s=>i.user.fio=s),name:"fio",placeholder:"Жолдас Қанат Толқынұлы"},null,512),[[_,i.user.fio]]),a(l,{field:"fio"})]),e("div",ee,[te,c(e("input",{type:"text",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=s=>i.user.job_title=s),name:"job_title",placeholder:"Басқарма басшысы"},null,512),[[_,i.user.job_title]]),a(l,{field:"job_title"})]),e("div",se,[ie,c(e("input",{type:"text",class:"form-control","onUpdate:modelValue":t[2]||(t[2]=s=>i.user.phone=s),name:"phone",placeholder:"+7(7__) ___ __-__"},null,512),[[_,i.user.phone],[b,"+7(7##) ### ##-##"]]),a(l,{field:"phone"})]),e("div",oe,[ae,c(e("input",{type:"email",class:"form-control","onUpdate:modelValue":t[3]||(t[3]=s=>i.user.mail=s),name:"mail",placeholder:"example@gmail.com"},null,512),[[_,i.user.mail]]),a(l,{field:"mail"})]),e("div",le,[ne,c(e("input",{type:"text",class:"form-control","onUpdate:modelValue":t[4]||(t[4]=s=>i.user.iin=s),name:"iin",placeholder:"000000000000"},null,512),[[_,i.user.iin],[b,"############"]]),a(l,{field:"iin"})]),e("div",re,[de,c(e("input",{type:"password",class:"form-control","onUpdate:modelValue":t[5]||(t[5]=s=>i.user.real_password=s),name:"real_password",placeholder:"********"},null,512),[[_,i.user.real_password]]),a(l,{field:"real_password"})]),e("div",ce,[ue,c(e("select",{class:"form-control",onChange:t[6]||(t[6]=p((...s)=>o.search&&o.search(...s),["prevent"])),"onUpdate:modelValue":t[7]||(t[7]=s=>i.user.audan_id=s),placeholder:"Ауданды таңдаңыз"},[fe,(n(!0),r(g,null,w(i.audans,s=>(n(),r("option",{value:s.id},f(s.name),9,me))),256))],544),[[x,i.user.audan_id]]),a(l,{field:"audan_id"})]),e("div",he,[_e,c(e("select",{class:"form-control",onChange:t[8]||(t[8]=p((...s)=>o.search&&o.search(...s),["prevent"])),"onUpdate:modelValue":t[9]||(t[9]=s=>i.user.role_id=s),placeholder:"Рөлді таңдаңыз"},[pe,(n(!0),r(g,null,w(i.roles,s=>(n(),r("option",{value:s.id},f(s.name),9,ge))),256))],544),[[x,i.user.role_id]]),a(l,{field:"role_id"})]),be,e("div",ve,[ye,e("div",xe,[i.user.avatar&&!d.image.file?(n(),r("img",{key:0,src:o.route("index")+"/storage/"+i.user.avatar,class:"img-thumbnail mb-2",alt:"User Avatar",style:{"max-width":"300px"}},null,8,we)):m("",!0),c(e("img",{src:d.image.preview,class:"img-thumbnail mb-2",alt:"Preview",style:{"max-width":"300px"}},null,8,Ue),[[L,d.image.preview]]),e("div",ke,[e("input",{type:"file",class:"form-control",id:"image",name:"image",accept:"image/jpeg,image/png",onChange:t[10]||(t[10]=s=>h.handleImageUpload()),ref:"image"},null,544)])]),a(l,{field:"avatar"})]),e("div",Ve,[Ae,e("div",Ce,[i.user.autobiography_link?(n(),r("div",Le,[De,e("span",null,f(i.user.autobiography_link),1)])):m("",!0),d.autobiography.file?(n(),r("div",Re,[Fe,e("span",null,f(d.autobiography.file.name),1)])):m("",!0),e("div",je,[e("input",{type:"file",class:"form-control",id:"autobiography",name:"autobiography",onChange:t[11]||(t[11]=s=>h.handleautobiographyUpload()),ref:"autobiography"},null,544)]),a(l,{field:"autobiography"})])]),e("div",Ne,[Se,e("div",Ee,[i.user.certificate_link?(n(),r("div",Be,[Ie,e("span",null,f(i.user.certificate_link),1)])):m("",!0),d.certificate.file?(n(),r("div",Me,[Pe,e("span",null,f(d.certificate.file.name),1)])):m("",!0),e("div",Te,[e("input",{type:"file",class:"form-control",id:"certificate",name:"certificate",onChange:t[12]||(t[12]=s=>h.handlecertificateUpload()),ref:"certificate"},null,544)]),a(l,{field:"certificate"})])]),e("div",He,[Ge,e("div",Je,[i.user.document_link?(n(),r("div",Oe,[qe,e("span",null,f(i.user.document_link),1)])):m("",!0),d.document.file?(n(),r("div",ze,[Ke,e("span",null,f(d.document.file.name),1)])):m("",!0),e("div",Qe,[e("input",{type:"file",class:"form-control",id:"document",name:"document",onChange:t[13]||(t[13]=s=>h.handledocumentUpload()),ref:"document"},null,544)]),a(l,{field:"document"})])])]),e("div",We,[Xe,e("button",{type:"button",class:"btn btn-danger",onClick:t[14]||(t[14]=p(s=>o.back(),["prevent"]))}," Артқа ")])],32)])])]),_:1})],64)}const at=F(j,[["render",Ye]]);export{at as default};
